# タスクフェーズの原則

## 概要

作業は「話し合い」「設計」「実装」の3つのフェーズに分かれる。
各フェーズは**別のタスクとして管理**し、混ぜない。

## 3つのフェーズ

| フェーズ | 関心事 | ゴール | 完了条件 |
|---------|--------|--------|---------|
| **話し合い** | 要件・課題の理解 | 論点の明確化 | 「何を解決すべきか」が明確になった |
| **設計** | 方針・仕様の決定 | 決定事項の記録 | 実装に必要な決定が揃った |
| **実装** | コードを書く | 動くものを作る | 要件を満たすコードができた |

## タスク命名規則

各フェーズのタスクには必ず対応するプレフィックスをつける：

- 議論フェーズ: `[議論] <トピック名>`
- 設計フェーズ: `[設計] <トピック名>`
- 実装フェーズ: `[実装] <トピック名>`

## フェーズごとにタスクを切る

新しい作業を始めるとき、まず**どのフェーズか**を判断し、タスクを作成する。

```python
# 例：議論フェーズ
add_task(
    project_id=...,
    title="[議論] トピック検索機能の要件整理",
    description="..."
)

# 例：設計フェーズ
add_task(
    project_id=...,
    title="[設計] トピック検索機能の方針決定",
    description="..."
)

# 例：実装フェーズ
add_task(
    project_id=...,
    title="[実装] トピック検索機能の実装",
    description="..."
)
```

## フェーズ移行のルール

1. **現在のフェーズを完了させてから次へ進む**
2. **移行時は必ずユーザーに確認を取る**
3. **新しいフェーズのタスクを作成する**

```
話し合い完了 → 「設計フェーズに入っていい？」 → 設計タスク作成
設計完了 → 「実装していい？」 → 実装タスク作成
```

## 各フェーズの進め方

詳細は以下のSkillを参照：

- 話し合いフェーズ → `.claude/skills/discussion/`
- 設計フェーズ → `.claude/skills/design/`
- 実装フェーズ → `.claude/skills/implementation/`

## やってはいけないこと

- 話し合い中に実装を始める
- 設計が固まる前にコードを書く
- フェーズをスキップする（話し合い → いきなり実装）
- 1つのタスクで複数フェーズを混ぜる
